<!DOCTYPE html>
<html>
<head>
   <meta charset="UTF-8">
   <meta property="og:title" content="üéÅ –ü–æ–∑–¥—Ä–∞–≤–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–∫—Ä—ã—Ç–∫–∞ - CardGift">
   <meta property="og:description" content="–ö—Ä–∞—Å–∏–≤–∞—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –æ—Ç–∫—Ä—ã—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ —Å –ø–æ–º–æ—â—å—é CardGift">
   <meta property="og:image" content="" id="previewImage">
   <meta property="og:image:width" content="1200">
   <meta property="og:image:height" content="630">
   <meta property="og:url" content="" id="previewUrl">
   <meta property="og:type" content="website">
   <meta property="og:site_name" content="CardGift">
   <meta name="twitter:card" content="summary_large_image">
   <meta name="twitter:title" content="üéÅ –ü–æ–∑–¥—Ä–∞–≤–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–∫—Ä—ã—Ç–∫–∞ - CardGift">
   <meta name="twitter:description" content="–ö—Ä–∞—Å–∏–≤–∞—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –æ—Ç–∫—Ä—ã—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ —Å –ø–æ–º–æ—â—å—é CardGift">
   <meta name="twitter:image" content="" id="twitterImage">
   <title>–û—Ç–∫—Ä—ã—Ç–∫–∞ CardGift</title>
   <style>
       body { margin: 0; background: #000; display: flex; align-items: center; justify-content: center; min-height: 100vh; }
       img { max-width: 100%; max-height: 100vh; border-radius: 10px; }
       .loading { color: white; font-family: Arial; }
   </style>
</head>
<body>
   <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∫–∏...</div>
   
   <script>
       const urlParams = new URLSearchParams(window.location.search);
       const cardId = urlParams.get('id');
       const imgData = urlParams.get('img');
       
       if (imgData) {
           // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–≤—å—é
           document.body.innerHTML = `<img src="${decodeURIComponent(imgData)}" alt="Greeting Card">`;
           
           // –û–±–Ω–æ–≤–ª—è–µ–º meta —Ç–µ–≥–∏
           const imageUrl = decodeURIComponent(imgData);
           document.getElementById('previewImage').content = imageUrl;
           document.getElementById('twitterImage').content = imageUrl;
           document.getElementById('previewUrl').content = window.location.href;
       } else if (cardId) {
           // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ viewer —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
           const lang = urlParams.get('lang') || 'ru';
           const ref = urlParams.get('ref') || '';
           const refParam = ref ? `&ref=${ref}` : '';
           window.location.href = `/card-viewer.html?id=${cardId}&lang=${lang}${refParam}`;
       }
   </script>
</body>
</html>
